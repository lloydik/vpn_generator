# Настройка
Есть два режима запуска тулзы:
1) **Вручную**. Вы самостоятельно вводите имя сети, хост, порт, а также другие настройки
2) **Конфиг**. Можете использовать конфиг генератора, для генерации VPN-конфигов. Для этого создайте файл `config.py` с содержимым:
```python
teams = [
    {
        'team':'Highres',
        'clients': 3,
    },
    {
        'team':'DumpRats',
        'clients': 5,
    },
    {
        'team':'tester',
        'clients': 4,
    },
]
vulnbox_net = '10.80.{cid}.{tid}'
clients_net = '10.20.{tid}.{cid}'
router_addr = '10.10.10.1/8'
fw_rules = {
    'accept_io_ip': {
        'fw_input_ip_ip':'10.20.0.0/16',
        'fw_output_ip_ip':'10.80.0.0/16',
    },
    'block_io_ip': {
        'fw_input_ip_ip':'10.20.0.0/16',
        'fw_output_ip_ip':'10.20.0.0/16',
    },
    'accept_io_ip': {
        'fw_input_ip_ip':'10.80.0.0/16',
        'fw_output_ip_ip':'10.20.0.0/16',
    },
    'accept_io_ip': {
        'fw_input_ip_ip':'10.80.0.0/16',
        'fw_output_ip_ip':'10.80.0.0/16',
    },
}
```

### Примечание
Поле `clients` - количество участников. Конфиг для вулнбокса создаётся внутри самостоятельно

# Запуск
```
git clone https://github.com/lloydik/vpn_generator.git
cd vpn_generator
chmod +x run.py start_all_configs.sh stop_all_configs.sh && ./run.py -h
```
На этом моменте вы должны увидеть сообщение с описанием параметров. Пример использования вручную:
```
./run.py -n highres1 -l highres.team -p 30000 -i 10.20.1.{cid}
```
Или при помощи конфигов
```
./run.py -C -l highrtes.team -p 30000
```

# Постинсталейшен
После запуска должны создасться директории с конфигами команд и сервера. Конфиги сервера перетаскиваем на сервер (удивительно), а затем запускаем конфиг
```
wg-quick up server_*.conf
```
Либо, если вам лень поднимать миллион конфигов, нагенерированных тулзой, то для вас написаны скрипты, которые принимают первым аргументом директорию, в которой происходила генерация.

Приятной игры
